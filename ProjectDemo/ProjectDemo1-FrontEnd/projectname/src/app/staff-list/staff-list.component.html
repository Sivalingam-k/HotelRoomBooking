<div class="container mt-5">
  <h2>Staff List</h2>

  <!-- Add Staff Button -->
  <button class="btn btn-primary mb-3" (click)="openAddStaffModal()">Add Staff</button>

  <!-- Cards for displaying staff data -->
  <div class="row">
    <!-- Loop through staffList and display data -->
    <div class="col-md-4 mb-4" *ngFor="let staff of staffList">
      <div class="card">
        <img [src]="'data:image/jpg;base64,' + staff.imagePath" class="card-img-top" alt="Staff Image">
        <div class="card-body">
          <h5 class="card-title">{{ staff.staffName }}</h5>
          <p class="card-text"><strong>Email:</strong> {{ staff.email }}</p>
          <p class="card-text"><strong>Contact:</strong> {{ staff.contact }}</p>
          <p class="card-text"><strong>Address:</strong> {{ staff.address }}</p>
          <p class="card-text"><strong>Rating:</strong> {{ staff.rating }}</p>
          <p class="card-text"><strong>Available:</strong> {{ staff.isAvailable }}</p>
          <p class="card-text"><strong>Aadhar:</strong> {{ staff.aadhar }}</p>
          <div class="d-flex justify-content-between">
            <button class="btn btn-warning btn-sm" (click)="openEditStaffModal(staff)">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deleteStaff(staff.id)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add/Edit Staff Modal -->
  <div class="modal fade" id="staffModal" tabindex="-1" role="dialog" aria-labelledby="staffModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staffModalLabel">{{ mode === 'create' ? 'Add Staff' : 'Edit Staff' }}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form (ngSubmit)="save()">
          <div class="modal-body">
            <!-- Form fields -->
            <div class="form-group">
              <label for="staffName">Name</label>
              <input type="text" class="form-control" id="staffName" [(ngModel)]="staff.staffName" name="staffName" required>
            </div>

            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" class="form-control" id="email" [(ngModel)]="staff.email" name="email" required>
            </div>

            <div class="form-group">
              <label for="contact">Contact</label>
              <input type="number" class="form-control" id="contact" [(ngModel)]="staff.contact" name="contact" required>
            </div>

            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" class="form-control" id="address" [(ngModel)]="staff.address" name="address">
            </div>

            <div class="form-group">
              <label for="rating">Rating</label>
              <input type="number" class="form-control" id="rating" [(ngModel)]="staff.rating" name="rating">
            </div>

            <div class="form-group">
              <label for="isAvailable">Available</label>
              <input type="text" class="form-control" id="isAvailable" [(ngModel)]="staff.isAvailable" name="isAvailable">
            </div>

            <div class="form-group">
              <label for="aadhar">Aadhar</label>
              <input type="number" class="form-control" id="aadhar" [(ngModel)]="staff.aadhar" name="aadhar">
            </div>

            <div class="form-group">
              <label for="imagePath">Image Path</label>
              <input type="file" class="form-control" id="imagePath"  (change)="onFileChange($event)">
              
            </div>

            <div class="form-group">
              <label for="joinedDate">Joined Date</label>
              <input type="date" class="form-control" id="joinedDate" [(ngModel)]="staff.joinedDate" name="joinedDate">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">{{ mode === 'create' ? 'Add' : 'Update' }}</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
